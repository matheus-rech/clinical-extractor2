# =============================================================================
# Railway.app Configuration for Clinical Extractor
# =============================================================================
# Deploy: railway up (or connect GitHub repo)
# Add secrets: railway variables set GEMINI_API_KEY=your_key
# =============================================================================

[build]
builder = "NIXPACKS"
buildCommand = "npm ci && npm run build"

[deploy]
startCommand = "npm run preview"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 100

# Backend service (create separate railway.toml in backend/)
# [[services]]
# name = "backend"
# buildCommand = "cd backend && poetry install"
# startCommand = "cd backend && poetry run uvicorn app.main:app --host 0.0.0.0 --port $PORT"
